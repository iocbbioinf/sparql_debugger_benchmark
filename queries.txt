Q1
https://sparql.uniprot.org
--
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX chembl: <http://rdf.ebi.ac.uk/terms/chembl#>
PREFIX uniprot: <http://purl.uniprot.org/core/>
PREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>
PREFIX endpoint: <https://idsm.elixir-czech.cz/sparql/endpoint/>

SELECT ?COMPOUND ?UNIPROT ?ORGANISM_NAME WHERE
{
    SERVICE endpoint:idsm {
      SERVICE endpoint:chembl {
        ?COMPOUND sachem:substructureSearch [
            sachem:query "CC(=O)Oc1ccccc1C(O)=O" ]
      }

    ?ACTIVITY rdf:type chembl:Activity;
      chembl:hasMolecule ?COMPOUND;
      chembl:hasAssay ?ASSAY.
    ?ASSAY chembl:hasTarget ?TARGET.
    ?TARGET chembl:hasTargetComponent ?COMPONENT.
    ?COMPONENT chembl:targetCmptXref ?UNIPROT.
    ?UNIPROT rdf:type chembl:UniprotRef.
  }

  ?UNIPROT uniprot:organism ?ORGANISM.
  ?ORGANISM uniprot:scientificName ?ORGANISM_NAME.
}

----
Q2
https://sparql.nextprot.org/
--
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX chembl: <http://rdf.ebi.ac.uk/terms/chembl#>
PREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>
PREFIX endpoint: <https://idsm.elixir-czech.cz/sparql/endpoint/>
PREFIX nextprot: <http://nextprot.org/rdf#>

SELECT ?COMPOUND ?ENTRY WHERE
{
  {
    SELECT ?COMPOUND ?UNIPROT WHERE {
      SERVICE endpoint:idsm {
        SERVICE endpoint:chembl {
          ?COMPOUND sachem:substructureSearch [
              sachem:query "CC(=O)Oc1ccccc1C(O)=O" ]
        }

        ?ACTIVITY rdf:type chembl:Activity;
          chembl:hasMolecule ?COMPOUND;
          chembl:hasAssay ?ASSAY.
        ?ASSAY chembl:hasTarget ?TARGET.
        ?TARGET chembl:hasTargetComponent ?COMPONENT.
        ?COMPONENT chembl:targetCmptXref ?UNIPROT.
        ?UNIPROT rdf:type chembl:UniprotRef.
      }
    }
  }

  ?ENTRY skos:exactMatch ?UNIPROT.
}

----
Q3
https://sparql.nextprot.org
--
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX dc: <http://purl.org/dc/elements/1.1/>
PREFIX chembl: <http://rdf.ebi.ac.uk/terms/chembl#>
PREFIX sachem: <http://bioinfo.uochb.cas.cz/rdf/v1.0/sachem#>
PREFIX endpoint: <https://idsm.elixir-czech.cz/sparql/endpoint/>
PREFIX nextprot: <http://nextprot.org/rdf#>
PREFIX db: <http://nextprot.org/rdf/db/>

SELECT ?COMPOUND ?ENTRY WHERE {
  SERVICE endpoint:idsm {
    SERVICE endpoint:chembl {
      ?COMPOUND sachem:substructureSearch [
          sachem:query "CC(=O)Oc1ccccc1C(O)=O" ]
    }

    ?ACTIVITY rdf:type chembl:Activity;
        chembl:hasMolecule ?COMPOUND;
        chembl:hasAssay ?ASSAY.
    ?ASSAY chembl:hasTarget ?TARGET.
    ?TARGET chembl:hasTargetComponent ?COMPONENT.
    ?COMPONENT chembl:targetCmptXref ?UNIPROT.
    ?UNIPROT rdf:type chembl:UniprotRef.
    ?UNIPROT dc:identifier ?UNI.
    ?TARGET chembl:hasProteinClassification ?CLASS.
    ?CLASS chembl:classPath "/Protein class/Surface antigen".
  }

  ?ENTRY nextprot:reference [
      nextprot:provenance db:UniProt;
      nextprot:accession ?UNI ].
}

